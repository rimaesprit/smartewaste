{% for signalement in signalements %}
    <tr>
        <td>{{ signalement.typeSign }}</td>
        <td>{{ signalement.zone }}</td>
        <td>{{ signalement.adresse|slice(0, 30) }}{% if signalement.adresse|length > 30 %}...{% endif %}</td>
        <td>{{ signalement.tempsSign ? signalement.tempsSign|date('d/m/Y H:i') : '' }}</td>
        <td>
            {% if signalement.etatSign == 'Pending' %}
                <span class="badge bg-warning">En attente</span>
            {% elseif signalement.etatSign == 'In Progress' %}
                <span class="badge bg-info">En cours</span>
            {% elseif signalement.etatSign == 'Resolved' %}
                <span class="badge bg-success">Résolu</span>
            {% elseif signalement.etatSign == 'Rejected' %}
                <span class="badge bg-danger">Rejeté</span>
            {% else %}
                <span class="badge bg-secondary">{{ signalement.etatSign }}</span>
            {% endif %}
        </td>
        <td>
            <div class="btn-group" role="group">
                <a href="{{ path('app_signalement_show', {'id': signalement.id}) }}" class="btn btn-sm btn-icon btn-primary">
                    <i class="fas fa-eye"></i>
                </a>
                {% if (is_granted('ROLE_ADMIN')) or (app.user and signalement.user.id == app.user.id and signalement.etatSign == 'Pending') %}
                <a href="{{ path('app_signalement_edit', {'id': signalement.id}) }}" class="btn btn-sm btn-icon btn-info">
                    <i class="fas fa-edit"></i>
                </a>
                {% endif %}
            </div>
        </td>
    </tr>
{% else %}
    <tr>
        <td colspan="6" class="text-center">Aucun signalement trouvé</td>
    </tr>
{% endfor %} 